(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fda4f36"],{"0046":function(e,t,a){},"20d6":function(e,t,a){"use strict";var l=a("5ca1"),n=a("0a49")(6),s="findIndex",i=!0;s in[]&&Array(1)[s](function(){i=!1}),l(l.P+l.F*i,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},d512:function(e,t,a){"use strict";var l=a("0046"),n=a.n(l);n.a},eeb1:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"my-container"},[a("el-header",[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleEditBtn}},[e._v(e._s(e.labelBtn))])],1),e._v(" "),a("el-main",[a("el-row",[a("span",{staticStyle:{"font-size":"large","font-weight":"400"}},[e._v("网关ID：")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-bottom":"30px"},attrs:{disabled:e.enableEdit},model:{value:e.gatewayID,callback:function(t){e.gatewayID=t},expression:"gatewayID"}})],1),e._v(" "),a("el-row",[a("span",{staticStyle:{"font-size":"large","font-weight":"400"}},[e._v("数据帧：")]),e._v(" "),a("el-row",{staticStyle:{"background-color":"#6ee4e4"},attrs:{gutter:5}},e._l(8,function(t,l){return a("el-col",{key:t,attrs:{value:l,span:3}},[a("el-select",{attrs:{disabled:e.enableEdit},on:{change:e.handleOpt},model:{value:e.defaultFrame[t-1],callback:function(a){e.$set(e.defaultFrame,t-1,a)},expression:"defaultFrame[index - 1]"}},e._l(e.selOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})}),1)],1)}),1)],1),e._v(" "),a("el-row",[a("span",{staticStyle:{"font-size":"large","font-weight":"400"}},[e._v("步    长：")]),e._v(" "),a("el-select",{attrs:{disabled:e.enableEdit,placeholder:e.defaultStepLen},model:{value:e.stepLen,callback:function(t){e.stepLen=t},expression:"stepLen"}},e._l(e.stepOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1)},n=[],s=(a("ac6a"),a("20d6"),a("b775"));function i(){return Object(s["a"])({url:"/data/setting",method:"get"})}function o(e){return Object(s["a"])({url:"/data/setting",method:"post",data:e})}var r={data:function(){return{enableEdit:!0,gatewayID:"sdfsdfsa0990sdf",labelBtn:"编辑",stepLen:1,stepOptions:[{value:1,label:"1秒"},{value:2,label:"2秒"},{value:3,label:"3秒"},{value:4,label:"4秒"},{}],defaultStepLen:"未知",selOptions:[{value:0,label:"未指定",disabled:!1},{value:1,label:"未指定1",disabled:!1},{value:2,label:"未指定2",disabled:!1},{value:3,label:"未指定3",disabled:!1}],defaultFrame:[0,0,0,0,0,0,0,0],dfOptions:[{value:0,label:"0",children:[{value:3,label:"0-0"},{value:4,label:"0-1"}]},{value:1,label:"1"}]}},mounted:function(){var e=this;i().then(function(t){console.log(t);var a=t.data;a?(e.gatewayID=a.gwid,e.defaultStepLen=e.stepOptions[a.step-1].label,e.selOptions=a.options,e.defaultFrame=a.frame):(e.gatewayID="未知",e.defaultStepLen="未知")})},methods:{handleEditBtn:function(){var e=this;if(this.enableEdit=!this.enableEdit,this.enableEdit){this.labelBtn="编辑";var t={gwid:this.gatewayID,frame:this.defaultFrame,step:this.stepLen};o(t).then(function(a){console.log(t),200===a.code?e.$message.success("保存设置成功"):e.$message.error("保存设置不成功，请刷新！")})}else this.labelBtn="保存"},handleOpt:function(e){var t=this.selOptions.findIndex(function(t){return t.value===e}),a=this.defaultFrame.indexOf(0),l=this.defaultFrame.slice(a),n=l.some(function(e){return 0!==e});n?(this.$message.error("前面部分不能含有未指定，请重新设置！"),this.defaultFrame=[0,0,0,0,0,0,0,0],this.selOptions.forEach(function(e){e.disabled=!1})):this.selOptions[t].disabled=!0}}},d=r,u=(a("d512"),a("2877")),c=Object(u["a"])(d,l,n,!1,null,null,null);t["default"]=c.exports}}]);